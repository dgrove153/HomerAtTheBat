include teamLink

table(style="width:100%")
	thead
		th(style="width:40%") Date
		th(style="width:60%") Team
		-if(player.primary_position == 1)
			th.stats IP
			th.stats ER
			th.stats GO/AO
			th.stats K
			th.stats BB
			th.stats K/9
			th.stats K/BB
			th.stats WHIP
			th.stats ERA
			th.stats W
			th.stats SV
div(style="max-height:200px;overflow-y:scroll;")
	table.hoverable(style="width:100%")
		tbody
			-var teamByDateArray = player.teamByDate.reverse()
			-each d in teamByDateArray
				tr
					td(style="width:20%;text-align:center")= moment(d.date).format('l')
					td(style="width:40%;text-align:center")
						mixin teamLink(teamHash[d.team], true)
					-if(d.stats)
						-if(player.primary_position == 1)
							-var innArray = d.stats.ip.split('.');
							-var innings_pitched;
							-if(isFinite(parseInt(innArray[0]))) {
							-	innings_pitched = parseInt(innArray[0]);	
							-} else {
							-	innings_pitched = 0;
							-}
							-if(innArray.length > 1) {
							-	innings_pitched += parseInt(innArray[1]) / 3;
							-}
							td.stats= numeral(innings_pitched).format("0.00")
							td.stats= d.stats.er
							td.stats
								- d.stats.ao = !d.stats.ao || d.stats.ao == 0 ? 1 : d.stats.ao
								-var ratio = d.stats.go / d.stats.ao;
								= numeral(ratio).format("0.00")
							td.stats= d.stats.so
							td.stats= d.stats.bb
							td.stats
								-var k9 = (d.stats.so * 9) / 
								= numeral(d.stats.kPerNine).format("0.00")
							td.stats= numeral(d.stats.kPerWalk).format("0.00")
							td.stats= numeral(d.stats.whip).format("0.000")
							td.stats= numeral(d.stats.era).format("0.000")
							td.stats= d.stats.w
							td.stats= d.stats.sv