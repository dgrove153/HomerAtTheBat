extends layout

block inlineScripts
	script.
		$(document).ready(function() {
			setInterval(function() {
				$.get("/stattracker/linescore2/" + team.teamId, function(response) {
					$('.preview').quicksand( $(response.html).find('.preview li'), { adjustHeight: 'dynamic' } );
					$('.inProgress').quicksand( $(response.html).find('.inProgress li'), { adjustHeight: 'dynamic' } );
					$('.final').quicksand( $(response.html).find('.final li'), { adjustHeight: 'dynamic' } );
					var players = $.merge(response.inProgressPlayers, response.previewPlayers);
					players = $.merge(players, response.finalPlayers);
					players.forEach(function(p) {
						$('[data-id="' + p.player_id + '"] .battersTillUp').text(p.battersTillUp);
					});
				});
			}, 10000);
		});

block content
	include partials/stattrackerDiv

	| <script type="text/javascript" >
	| var team = !{JSON.stringify(team)};
	| var players = !{JSON.stringify(unsortedPlayers)};
	| </script>